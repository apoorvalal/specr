---
output: github_document
---

<!-- README.md is generated from README.Rmd. Please edit that file -->

```{r, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>",
  fig.path = "man/figures/README-",
  out.width = "100%"
)
```

# specr

<!-- badges: start -->
[![Lifecycle: experimental](https://img.shields.io/badge/lifecycle-experimental-orange.svg)](https://www.tidyverse.org/lifecycle/#experimental)
[![CRAN status](https://www.r-pkg.org/badges/version/specr)](https://CRAN.R-project.org/package=specr)
<!-- badges: end -->

The goal of specr is to facilitate specification curve analyses as described by Simonson, Simmons & Nelson (2015).[^1] It provides functions to setup, run, and plot all specifications.

## Installation

You can install the development version from [GitHub](https://github.com/) with:

``` r
# install.packages("devtools")
devtools::install_github("masurp/specr")
```
## Example

This is a basic example of how to use the major functions in this package. In a first step, check the data (here a simulated data set).

```{r, message=F, warning = F}
# Load library
library(specr)
d <- example_data
head(d)
```

In a second step, we only need to use the function `run_specs()` and include our analytical choices as arguments. 
The resulting data frame includes relevant statistics of all models that were estimated.

```{r, message=F, warning = F}
# Run specification curve analysis
results <- run_specs(df = d, 
                     y = c("y1", "y2"), 
                     x = c("x1", "x2"), 
                     model = c("lm", "glm"), 
                     controls = c("c1", "c2"), 
                     subset = list(gender = unique(d$gender)))
# Check results
head(results)
```

In a final step, we can use the function `plot_specs()` to produce a typical visualization of the specification curve and how the analytical choices affected the obtained results. 


```{r, fig.height=10, fig.width=7, message=F, warning = F}
# Plot specification curve analysis
plot_specs(results)
```


## References

[^1]: http://sticerd.lse.ac.uk/seminarpapers/psyc16022016.pdf
